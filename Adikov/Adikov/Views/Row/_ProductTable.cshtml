@using Adikov.Domain.Models
@model Adikov.Domain.Queries.Products.ProductTable

<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th> # </th>
            @foreach (var column in Model.Columns)
            {
                <th data-type="@column.Type"> @column.Name </th>
            }
        </tr>
    </thead>
    <tbody>
        @{
            int i = 0;
        }
        @foreach (var row in Model.Rows)
        {
            i++;

            <tr>
                <td> @i </td>
                @foreach (var column in Model.Columns)
                {
                    <td>
                        @if (column.Type == ColumnType.Status)
                        {
                            @ColumnHelper.StatusToLabel((ProductStatus)Enum.Parse(typeof(ProductStatus), row.Cells[column.ColumnId]))
                        }
                        else
                        {
                            @row.Cells[column.ColumnId]
                        }
                    </td>
                }
            </tr>
        }
    </tbody>
</table>