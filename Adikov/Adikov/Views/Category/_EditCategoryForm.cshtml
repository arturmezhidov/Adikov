@model Adikov.ViewModels.Categories.CategoryEditViewModel

@using (Html.BeginForm("Edit", "Category", null, FormMethod.Post, new { id = "category-form", @class = "form-horizontal", role = "form", enctype = "multipart/form-data" }))
{
    @Html.HiddenFor(m => m.Id)
    <div class="form-body">
        <div class="form-group">
            <label class="col-md-3 control-label">Название <span class="required" aria-required="true"> * </span></label>
            <div class="col-md-4">
                @Html.TextBoxFor(m => m.Name, new { @class = "form-control", placeholder = "Название" })
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-3 control-label">Иконка <span class="required" aria-required="true"> * </span></label>
            <div class="col-md-4">
                @Html.TextBoxFor(m => m.Icon, new { @class = "form-control", placeholder = "Иконка" })
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-3 control-label">Картинка <span class="required" aria-required="true"> * </span></label>
            <div class="col-md-4">
                <div class="fileinput fileinput-new" data-provides="fileinput">
                    <div class="fileinput-new thumbnail" style="width: 200px; height: 150px;">
                        <img src="@(String.IsNullOrEmpty(Model.ImageUrl) ? "http://www.placehold.it/200x150/EFEFEF/AAAAAA&amp;text=no+image" : Model.ImageUrl)" alt="" />
                    </div>
                    <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 200px; max-height: 150px;"> </div>
                    <div>
                        <span class="btn default btn-file">
                            <span class="fileinput-new"> Выбрать </span>
                            <span class="fileinput-exists"> Изменить </span>
                            <input type="file" name="Image" class="ignore"> 
                        </span>
                        <a href="javascript:;" class="btn red fileinput-exists" data-dismiss="fileinput"> Удалить </a>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
    <div class="form-actions">
        <div class="row">
            <div class="col-md-offset-3 col-md-9">
                <button type="submit" class="btn green">Сохранить</button>
                <a class="btn default" href="@Url.Action("Index", new { id = "" })">Отмена</a>
            </div>
        </div>
    </div>
}